{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sudha\\\\Downloads\\\\italenthub_files\\\\italenthub\\\\src\\\\components\\\\pages\\\\login.js\";\nimport React from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport Logo from '../common/logo/logo';\nimport { validateEmail } from '../../utils/helpers';\nimport { API_URL, API_HEADERS } from '../../utils/api';\nimport axios from 'axios';\nimport localforage from 'localforage';\nimport eyeImage from '../../assets/images/eye.png';\n\nclass Login extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      email: \"\",\n      password: \"\",\n      emailError: \"\",\n      passwordError: \"\",\n      isValidEmail: false,\n      isValidPassword: false,\n      passwordType: \"password\",\n      serverError: \"\"\n    };\n\n    this.onEmailChange = ev => {\n      const email = ev.target.value;\n      const isValidEmail = validateEmail(email);\n      let emailError = \"\";\n\n      if (!isValidEmail) {\n        emailError = \"Invalid email.\";\n      }\n\n      this.setState({\n        email,\n        emailError,\n        isValidEmail\n      });\n    };\n\n    this.onPasswordChange = ev => {\n      const password = ev.target.value;\n      let passwordError = \"\";\n      const isValidPassword = password !== \"\" ? true : false;\n\n      if (!isValidPassword) {\n        passwordError = \"Password required.\";\n      }\n\n      this.setState({\n        password,\n        isValidPassword,\n        passwordError\n      });\n    };\n\n    this.onSubmit = () => {\n      let _this = this;\n\n      if (this.state.isValidPassword && this.state.isValidEmail) {\n        // axios.post(API_URL + \"login/v1/api\", {\n        axios.post(API_URL + \"eaas/login/v1/api\", {\n          \"E_mail\": this.state.email,\n          \"Pswd\": this.state.password\n        }, {\n          headers: API_HEADERS\n        }).then(response => {\n          if (response.data.status) {\n            localforage.setItem('isLoggedin', true, function (err) {\n              localforage.setItem('user', response.data.data, function (err) {\n                localforage.setItem('completePercentage', response.data.completePercentage, function (err) {\n                  _this.props.history.push(\"/\");\n                });\n              });\n            });\n          } else {\n            this.setState({\n              serverError: response.data.data\n            });\n          }\n        }).catch(error => {\n          this.setState({\n            serverError: error.message\n          });\n        });\n      } else {\n        this.setState({\n          emailError: \"Invalid email.\",\n          passwordError: \"Password required.\"\n        });\n      }\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"section\", {\n      className: \"login_section\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row margin0 fullheight\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12  col-lg-8 login-bg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12  col-lg-4 login-sec\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"login_logo text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Logo, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"sign_in_text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 25\n      }\n    }, \"Sign in\"), /*#__PURE__*/React.createElement(\"form\", {\n      className: \"login-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-center text-danger error_msg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"server-error\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 80\n      }\n    }, this.state.serverError)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"email\",\n      className: \"form-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 33\n      }\n    }, \"Email Address\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"email\",\n      className: \"form-control\",\n      name: \"email\",\n      onChange: ev => {\n        this.onEmailChange(ev);\n      },\n      value: this.state.email,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"error\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 33\n      }\n    }, this.state.emailError)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"password\",\n      className: \"form-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 33\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control password-input\",\n      type: this.state.passwordType,\n      name: \"password\",\n      onChange: ev => {\n        this.onPasswordChange(ev);\n      },\n      value: this.state.password,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-append\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-text password-eye\",\n      onMouseEnter: () => {\n        this.setState({\n          passwordType: \"text\"\n        });\n      },\n      onMouseLeave: () => {\n        this.setState({\n          passwordType: \"password\"\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"password-eye-image\",\n      src: eyeImage,\n      alt: \"view-password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 219\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        flexDirection: \"row\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"error  password-error-span\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 37\n      }\n    }, this.state.passwordError)), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"forgot-password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 37\n      }\n    }, \"Forgot Password ?\", /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 88\n      }\n    }, \"  Click here to reset\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"btn_div\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: this.onSubmit,\n      className: \"btn btn-login float-right register_button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 33\n      }\n    }, \"Sign in\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Already-have-an-account-Sign-in\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 29\n      }\n    }, \"Don\\u2019t have an account?  \", /*#__PURE__*/React.createElement(Link, {\n      to: \"register\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 57\n      }\n    }, \"Register\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"copyright\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 29\n      }\n    }, \"Copyright 2020 iTalentHub\")))));\n  }\n\n}\n\nexport default withRouter(Login);","map":{"version":3,"sources":["C:/Users/sudha/Downloads/italenthub_files/italenthub/src/components/pages/login.js"],"names":["React","Link","withRouter","Logo","validateEmail","API_URL","API_HEADERS","axios","localforage","eyeImage","Login","Component","state","email","password","emailError","passwordError","isValidEmail","isValidPassword","passwordType","serverError","onEmailChange","ev","target","value","setState","onPasswordChange","onSubmit","_this","post","headers","then","response","data","status","setItem","err","completePercentage","props","history","push","catch","error","message","render","display","justifyContent","flexDirection"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport Logo from '../common/logo/logo';\r\nimport { validateEmail } from '../../utils/helpers';\r\nimport { API_URL, API_HEADERS } from '../../utils/api';\r\nimport axios from 'axios';\r\nimport localforage from 'localforage';\r\nimport eyeImage from '../../assets/images/eye.png';\r\n\r\nclass Login extends React.Component {\r\n    state = {\r\n        email: \"\",\r\n        password: \"\",\r\n        emailError: \"\",\r\n        passwordError: \"\",\r\n        isValidEmail: false,\r\n        isValidPassword: false,\r\n        passwordType: \"password\",\r\n        serverError: \"\"\r\n    }\r\n\r\n    onEmailChange = (ev) => {\r\n        const email = ev.target.value;\r\n        const isValidEmail = validateEmail(email);\r\n        let emailError = \"\";\r\n        if (!isValidEmail) {\r\n            emailError = \"Invalid email.\"\r\n        }\r\n        this.setState({ email, emailError, isValidEmail });\r\n    }\r\n\r\n    onPasswordChange = (ev) => {\r\n        const password = ev.target.value;\r\n        let passwordError = \"\";\r\n        const isValidPassword = password !== \"\" ? true : false;\r\n        if (!isValidPassword) {\r\n            passwordError = \"Password required.\"\r\n        }\r\n        this.setState({ password, isValidPassword, passwordError });\r\n    }\r\n\r\n    onSubmit = () => {\r\n        let _this = this;\r\n        if (this.state.isValidPassword && this.state.isValidEmail) {\r\n            // axios.post(API_URL + \"login/v1/api\", {\r\n            axios.post(API_URL + \"eaas/login/v1/api\", {\r\n                \"E_mail\": this.state.email,\r\n                \"Pswd\": this.state.password\r\n            }, {\r\n                headers: API_HEADERS\r\n            })\r\n                .then((response) => {\r\n                    if (response.data.status) {\r\n                        localforage.setItem('isLoggedin', true, function (err) {\r\n                            localforage.setItem('user', response.data.data, function (err) {\r\n                                localforage.setItem('completePercentage', response.data.completePercentage, function (err) {\r\n                                    _this.props.history.push(\"/\");\r\n                                });\r\n                            });\r\n                        });\r\n                    } else {\r\n                        this.setState({\r\n                            serverError: response.data.data\r\n                        })\r\n                    }\r\n                })\r\n                .catch((error) => {\r\n                    this.setState({\r\n                        serverError: error.message\r\n                    })\r\n                })\r\n        } else {\r\n            this.setState({\r\n                emailError: \"Invalid email.\",\r\n                passwordError: \"Password required.\"\r\n            })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <section className=\"login_section\">\r\n                <div className=\"row margin0 fullheight\">\r\n                    <div className=\"col-12  col-lg-8 login-bg\"></div>\r\n                    <div className=\"col-12  col-lg-4 login-sec\">\r\n                        <div className=\"login_logo text-center\">\r\n                            <Logo />\r\n                        </div>\r\n                        <h2 className=\"sign_in_text\">Sign in</h2>\r\n\r\n                        <form className=\"login-form\">\r\n                            <div className=\"text-center text-danger error_msg\"><span className=\"server-error\">{this.state.serverError}</span></div>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"email\" className=\"form-label\">Email Address</label>\r\n                                <input type=\"email\" className=\"form-control\" name=\"email\" onChange={(ev) => { this.onEmailChange(ev) }} value={this.state.email} />\r\n                                <span className=\"error\">{this.state.emailError}</span>\r\n                            </div>\r\n                            <div className=\"form-group input-group\">\r\n                                <label htmlFor=\"password\" className=\"form-label\">Password</label>\r\n                                <input className=\"form-control password-input\" type={this.state.passwordType} name=\"password\" onChange={(ev) => { this.onPasswordChange(ev) }} value={this.state.password} />\r\n                                <div className=\"input-group-append\">\r\n                                    <span className=\"input-group-text password-eye\" onMouseEnter={() => { this.setState({ passwordType: \"text\" }) }} onMouseLeave={() => { this.setState({ passwordType: \"password\" }) }}><img className=\"password-eye-image\" src={eyeImage} alt=\"view-password\" /></span>\r\n                                </div>\r\n                            </div>\r\n                            <div style={{\r\n                                display: 'flex',\r\n                                justifyContent: 'space-between',\r\n                                flexDirection: \"row\",\r\n                            }}>\r\n                                <div>\r\n                                    <span className=\"error  password-error-span\">{this.state.passwordError}</span>\r\n                                </div>\r\n                                <div>\r\n                                    <span className='forgot-password'>Forgot Password ?<a href=\"#\" >  Click here to reset</a></span>\r\n                                </div>\r\n                            </div>\r\n\r\n\r\n                            {/* <div className=\"Forgot-password\"><Link to=\"/forgot-password\">Forgot Password ?</Link></div> */}\r\n                            <div className=\"btn_div\">\r\n                                <button type=\"button\" onClick={this.onSubmit} className=\"btn btn-login float-right register_button\">Sign in</button>\r\n                            </div>\r\n                            <div className=\"Already-have-an-account-Sign-in\">\r\n                                Don’t have an account?  <Link to=\"register\">Register</Link>\r\n                            </div>\r\n                            <div className=\"copyright\">Copyright 2020 iTalentHub</div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(Login);"]},"metadata":{},"sourceType":"module"}